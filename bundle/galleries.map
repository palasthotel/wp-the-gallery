{"version":3,"sources":["webpack:///webpack/bootstrap df2de846f6a19cfdb85f","webpack:///./src/galleries.jsx","webpack:///./src/component/gallery.jsx","webpack:///./src/component/component.jsx","webpack:///./src/component/page/page.jsx","webpack:///./src/component/page/page-image.jsx","webpack:///./src/component/page/page-base.jsx","webpack:///./src/controller/touch-events.jsx","webpack:///./src/component/page/page-custom.jsx","webpack:///./src/component/thumbs.jsx","webpack:///./src/component/full-screen.jsx","webpack:///./src/component/share.jsx","webpack:///./src/component/navigation.jsx","webpack:///./src/model/item-data.jsx","webpack:///./src/controller/gallery-event.jsx"],"names":["WPGalleries","selector","options","_options","_gs","_endabled","_galleries","document","querySelectorAll","length","enable","callback","i","_iterate","gallery","ga","push","disable","TG","window","TheGallery","WPGallery","events","change_content","auto","wp_galleries","onload","body","addEventListener","e","Gallery","source_gallery","props","option_classes","Object","assign","classes","option_selectors","selectors","custom_pages","show_thumbs","show_fullscreen","show_share","navigation","fullscreen","share","gallery_root","gallery_viewport","gallery_item","state","active","ratio","max_height","_event","EVENT","EVENTS","addListener","NEXT","event_type","TYPE_SLIDE","_navigation","hide","onChange","PREV","PAGE_ACTIVE","data_item","onContentChange","getSource","PAGE_RATIO","getHeight","getRatio","changed","updateViewportRatio","_source_gallery","_items","_viewport","createElement","setOnChange","bind","_page_components","_data","_get_custom_item_data","position","page","item_data","setIsThumbable","thumb","setRenderFunction","render","custom_offset","_thumbs","THUMB_CLICK","onThumbClick","_fullscreen","FULLSCREEN_TOGGLE","onFullScreenToggle","_share","location","hash","data","component","getAnker","toggleDisplay","state_resize_interval","setInterval","onResize","style","display","parentNode","insertBefore","destroy","undefined","margin","parseInt","getComputedStyle","marginTop","marginBottom","paddingBottom","paddingTop","width","clientWidth","height","item","setPrev","setActive","setNext","_element","get","className","innerHTML","appendChild","renderViewport","update","overflowX","firstChild","removeChild","src","dispatchEvent","CustomEvent","detail","offset","viewport_size","onFullScreen","indexOf","replace","console","error","Component","PageImage","PageCustom","ItemImage","getData","_caption","img","Image","title","getCaption","clientHeight","setRatio","setHeight","trigger","PageBase","event","_touch_events","setOnTouchListener","onSlide","setOnTouchStartListener","onSlideStart","setOnTouchStopListener","onSlideStop","getClassName","offsetx","offsety","multi","Math","log","transform","custom","getPositionClass","PAGE_INACTIVE","TouchEvent","element","handleStart","handleEnd","handleCancel","handleMove","start","x","y","is_multitouch","reset","_on_touch","_on_touch_start","_on_touch_stop","touches","changedTouches","pageX","pageY","sendTouchEvent","fn","getRenderFunction","result","info","Thumb","onclick","isThumbable","setAttribute","backgroundImage","active_data_item","Thumbs","_events","updateActive","_stage","not_thumbed","onClick","active_index","item_width","thumb_position_left","left","moveThumbs","FullScreen","ON","FULLSCREEN_ON","OFF","FULLSCREEN_OFF","TOGGLE","emit_event","Share","facebook","twitter","classNameButton","show","image","_fb","renderElement","onShareFacebook","_t","onShareTwitter","key","config","_button","open","encodeURIComponent","href","Navigation","next","prev","_on_next","_on_prev","setClass","get_button","classnames","abs","setOnNext","setOnPrev","ItemData","source","_source","_default_return","_ratio","_height","_is_thumbable","_render_function","querySelector","getAttribute","caption_element","found","getLink","match","thumbable","PAGE_CLICK","TYPE_NAVIGATION_CLICK","TYPE_THUMBNAIL_CLICK","GalleryEvent","_listeners","_getListeners","listeners"],"mappings":"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","file":"galleries.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap df2de846f6a19cfdb85f","import Gallery from './component/gallery.jsx';\n\n/**\n * holder for all galleries\n */\nclass WPGalleries {\n\t\n\t/**\n\t * collect data\n\t * @param selector\n\t * @param options\n\t */\n\tconstructor(selector, options) {\n\t\tthis._options = options;\n\t\tthis._gs = [];\n\t\tthis._endabled = false;\n\t\tthis._galleries = document.querySelectorAll(selector);\n\t\tif (this._galleries.length > 0) {\n\t\t\tthis.enable();\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * iterate over all galleries\n\t * @param callback\n\t * @private\n\t */\n\t\n\t_iterate(callback) {\n\t\tfor (let i = 0; i < this._galleries.length; i++) {\n\t\t\tcallback(this._galleries[i], i);\n\t\t}\n\t}\n\t\n\t/**\n\t * enable javascript galleries rendering\n\t */\n\tenable() {\n\t\tif (this._endabled) return;\n\t\tthis._gs = [];\n\t\tthis._iterate((gallery, i) => {\n\t\t\tlet ga = new Gallery(gallery, this._options);\n\t\t\tthis._gs.push(ga);\n\t\t\tga.enable();\n\t\t\t\n\t\t});\n\t\tthis._endabled = true;\n\t}\n\t\n\t/**\n\t * disable javascript galleries rendering\n\t */\n\tdisable() {\n\t\tif (!this._endabled) return;\n\t\tthis._iterate((gallery, i) => {\n\t\t\tthis._gs[i].disable();\n\t\t});\n\t\tthis._gs = [];\n\t\tthis._endabled = false;\n\t}\n}\n\n/**\n * get global object\n */\nconst TG = window.TheGallery;\nTG.WPGalleries = WPGalleries;\nTG.WPGallery = Gallery;\n\n// move to core\nTG.events = {\n\tchange_content: \"onGalleryContentChange\",\n};\n\nif (TG.auto) {\n\t\n\t// what we can do manually for every gallery\n\twindow.wp_galleries = new WPGalleries(\".gallery\", (TG.options || {}));\n\t\n\twindow.onload = function () {\n\t\twindow.document.body.addEventListener(TG.events.change_content, function (e) {\n\t\t\t// console.log(\"gallery content has changed\", e.details);\n\t\t});\n\t};\n\t\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/galleries.jsx","import Component from './component.jsx';\nimport {PageImage, PageCustom} from './page/page.jsx';\nimport Thumbs from './thumbs.jsx';\nimport FullScreen from './full-screen.jsx';\nimport Share from './share.jsx';\nimport Navigation from './navigation.jsx';\nimport ItemData from './../model/item-data.jsx';\nimport GalleryEvent from './../controller/gallery-event.jsx';\n\n/**\n * build a javascript silder from wordpress gallery\n */\nexport default class Gallery extends Component {\n\t\n\t/**\n\t *\n\t * @param {Element} source_gallery\n\t * @param options\n\t */\n\tconstructor(source_gallery, options) {\n\t\tsuper();\n\t\t\n\t\t/**\n\t\t * default options\n\t\t */\n\t\tthis.props = {};\n\t\t\n\t\t/**\n\t\t * deep copy sub options\n\t\t */\n\t\tconst option_classes = Object.assign({},options.classes);\n\t\tconst option_selectors = Object.assign({},options.selectors);\n\t\t\n\t\t/**\n\t\t * extend options\n\t\t */\n\t\tObject.assign(this.props, {\n\t\t\tcustom_pages: [],\n\t\t\tshow_thumbs: true,\n\t\t\tshow_fullscreen: true,\n\t\t\tshow_share: true,\n\t\t\tnavigation: {},\n\t\t\tfullscreen: {},\n\t\t\tshare:{},\n\t\t\tclasses: {},\n\t\t\tselectors: {},\n\t\t},options);\n\t\t\n\t\tObject.assign(this.props.classes,{\n\t\t\tgallery_root: \"the-gallery\",\n\t\t\tgallery_viewport: \"the-gallery__viewport\",\n\t\t\tfullscreen: \"is-fullscreen\",\n\t\t}, option_classes);\n\t\t\n\t\tObject.assign(this.props.selectors, {\n\t\t\tgallery_item: \".gallery-item\",\n\t\t}, option_selectors);\n\t\t\n\t\t\n\t\t/**\n\t\t * initial state ist first slide\n\t\t * @type {{active: number}}\n\t\t */\n\t\tthis.state = {\n\t\t\tactive: 0,\n\t\t\tratio: 1,\n\t\t\tmax_height: 0,\n\t\t};\n\t\t\n\t\t/**\n\t\t * event system\n\t\t * @type {GalleryEvent}\n\t\t * @private\n\t\t */\n\t\tthis._event = new GalleryEvent();\n\t\tthis.EVENT = this._event.EVENTS();\n\t\t\n\t\t/**\n\t\t * register events\n\t\t */\n\t\tthis._event.addListener(this.EVENT.NEXT, (event_type) => {\n\t\t\tif (this.EVENT.TYPE_SLIDE == event_type) {\n\t\t\t\tthis._navigation.hide();\n\t\t\t}\n\t\t\tthis.onChange(1);\n\t\t});\n\t\tthis._event.addListener(this.EVENT.PREV, (event_type) => {\n\t\t\tif (this.EVENT.TYPE_SLIDE == event_type) {\n\t\t\t\tthis._navigation.hide();\n\t\t\t}\n\t\t\tthis.onChange(-1);\n\t\t});\n\t\t\n\t\tthis._event.addListener(this.EVENT.PAGE_ACTIVE, (data_item) => {\n\t\t\tthis.onContentChange(data_item.getSource());\n\t\t});\n\t\t\n\t\tthis._event.addListener(this.EVENT.PAGE_RATIO, (data_item) => {\n\t\t\t\n\t\t\tconst max_height = data_item.getHeight();\n\t\t\tconst ratio = data_item.getRatio();\n\t\t\tlet changed = false;\n\t\t\tif (this.state.max_height < max_height) {\n\t\t\t\tthis.state.max_height = max_height;\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tif (this.state.ratio < ratio) {\n\t\t\t\tthis.state.ratio = ratio;\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tif (changed) this.updateViewportRatio();\n\t\t});\n\t\t\n\t\t/**\n\t\t * the original gallery we use for data collect\n\t\t * @type {Element}\n\t\t * @private\n\t\t */\n\t\tthis._source_gallery = source_gallery;\n\t\tthis._items = this._source_gallery.querySelectorAll(this.props.selectors.gallery_item);\n\t\t\n\t\t/**\n\t\t * this is our handle do not overwrite it\n\t\t * @type {Element}\n\t\t * @private\n\t\t */\n\t\tthis._viewport = document.createElement(\"div\");\n\t\t\n\t\t/**\n\t\t * navigation component\n\t\t * @type {Navigation}\n\t\t * @private\n\t\t */\n\t\tthis._navigation = new Navigation(this.props.navigation);\n\t\tthis._navigation.setOnChange(this.onChange.bind(this));\n\t\t\n\t\t/**\n\t\t * init components\n\t\t * @type {Array}\n\t\t * @private\n\t\t */\n\t\tthis._page_components = [];\n\t\tthis._data = [];\n\t\tconst _get_custom_item_data = (position) => {\n\t\t\tfor (let page of this.props.custom_pages) {\n\t\t\t\tif (page.position == position) {\n\t\t\t\t\tlet item_data = new ItemData(null);\n\t\t\t\t\titem_data.setIsThumbable(page.thumb || false);\n\t\t\t\t\titem_data.setRenderFunction(page.render || function () {\n\t\t\t\t\t\t});\n\t\t\t\t\treturn item_data;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\t\n\t\tlet custom_offset = 0;\n\t\tfor (let i = 0; i < this._items.length; i++) {\n\t\t\tlet position = i + custom_offset;\n\t\t\t\n\t\t\t/**\n\t\t\t * add custom page if defined in options\n\t\t\t */\n\t\t\tlet item_data = _get_custom_item_data(position);\n\t\t\tif (item_data != null) {\n\t\t\t\tthis._data.push(item_data);\n\t\t\t\tthis._page_components.push(new PageCustom(item_data, this._event));\n\t\t\t\tcustom_offset++;\n\t\t\t}\n\t\t\t\n\t\t\t/**\n\t\t\t * add the image\n\t\t\t * @type {ItemData}\n\t\t\t */\n\t\t\titem_data = new ItemData(this._items[i]);\n\t\t\tthis._data.push(item_data);\n\t\t\tthis._page_components.push(new PageImage(item_data, this._event));\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\tif (this.props.show_thumbs) {\n\t\t\tthis._thumbs = new Thumbs(this._data, this._event);\n\t\t\tthis._event.addListener(this.EVENT.THUMB_CLICK, this.onThumbClick.bind(this));\n\t\t}\n\t\t\n\t\tif( this.props.show_fullscreen){\n\t\t\tthis._fullscreen = new FullScreen(this._data, this._event, this.props.fullscreen);\n\t\t\tthis._event.addListener(this.EVENT.FULLSCREEN_TOGGLE, this.onFullScreenToggle.bind(this));\n\t\t}\n\t\t\n\t\tif(this.props.show_share){\n\t\t\tthis._share = new Share(this._event, this.props.share);\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t *\n\t\t */\n\t\tif (window.location.hash != \"\") {\n\t\t\tthis._iterate((data, component, i) => {\n\t\t\t\tif (\"#\" + data.getAnker() == window.location.hash) {\n\t\t\t\t\tthis.state.active = i;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tthis._viewport.addEventListener(\"click\", () => {\n\t\t\tthis._navigation.toggleDisplay();\n\t\t});\n\t\t\n\t\t/**\n\t\t * on resize handler\n\t\t */\n\t\t// window.onresize = this.onResize.bind(this);\n\t\t\n\t\tthis.state_resize_interval = setInterval(this.onResize.bind(this),500);\n\t\t\n\t}\n\t\n\t/**\n\t * enable the gallery\n\t */\n\tenable() {\n\t\tthis._source_gallery.style.display = \"none\";\n\t\tthis._source_gallery.parentNode.insertBefore(this.render(), this._source_gallery);\n\t}\n\t\n\t/**\n\t * disable the gallery and show source one\n\t */\n\tdisable() {\n\t\tthis._source_gallery.style.display = \"inherit\";\n\t\tthis.destroy();\n\t}\n\t\n\t/**\n\t * ----------------------------\n\t * rendering\n\t * ----------------------------\n\t */\n\tupdateViewportRatio() {\n\t\tif (this._viewport == typeof undefined) return;\n\t\t\n\t\tlet margin = 0;\n\t\tmargin += parseInt(window.getComputedStyle(this._viewport).marginTop);\n\t\tmargin += parseInt(window.getComputedStyle(this._viewport).marginBottom);\n\t\tmargin += parseInt(window.getComputedStyle(this._viewport).paddingBottom);\n\t\tmargin += parseInt(window.getComputedStyle(this._viewport).paddingTop);\n\t\t\n\t\tlet width = this._viewport.clientWidth;\n\t\tconst {ratio, max_height} = this.state;\n\t\tlet height = ratio * width;\n\t\tif (height > max_height && max_height > 0) {\n\t\t\theight = max_height + margin;\n\t\t}\n\t\tthis._viewport.style.height = height + \"px\";\n\t}\n\t\n\tupdate() {\n\t\tconst {active} = this.state;\n\t\t\n\t\tthis._iterate((item, component, i) => {\n\t\t\t/**\n\t\t\t * @var GalleryItem component\n\t\t\t */\n\t\t\tif (i < active) {\n\t\t\t\tcomponent.setPrev();\n\t\t\t} else if (i == active) {\n\t\t\t\tcomponent.setActive();\n\t\t\t\tif (this._data[i].getAnker() != \"\") window.location.hash = this._data[i].getAnker();\n\t\t\t} else if (i > active) {\n\t\t\t\tcomponent.setNext();\n\t\t\t}\n\t\t});\n\t}\n\t\n\trender() {\n\t\tlet _element = this.get();\n\t\t_element.className = this.props.classes.gallery_root;\n\t\t_element.innerHTML = \"\";\n\t\t\n\t\t_element.appendChild(this.renderViewport());\n\t\t_element.appendChild(this._navigation.render());\n\t\t\n\t\tif (this._thumbs) _element.appendChild(this._thumbs.render());\n\t\tif( this._fullscreen ) _element.appendChild(this._fullscreen.render());\n\t\tif( this._share ) _element.appendChild( this._share.render() );\n\t\t\n\t\tthis.update();\n\t\t\n\t\treturn _element;\n\t}\n\t\n\trenderViewport() {\n\t\tconst {active} = this.state;\n\t\tthis._viewport.className = this.props.classes.gallery_viewport;\n\t\tthis._viewport.style.overflowX = \"hidden\";\n\t\t\n\t\twhile (this._viewport.firstChild) {\n\t\t\tthis._viewport.removeChild(this._viewport.firstChild);\n\t\t}\n\t\t\n\t\tthis._iterate((data, component, i) => {\n\t\t\tthis._viewport.appendChild(component.render());\n\t\t});\n\t\t\n\t\treturn this._viewport;\n\t}\n\t\n\t\n\t/**\n\t * ----------------------------\n\t * events\n\t * ----------------------------\n\t */\n\tonContentChange(src) {\n\t\twindow.document.body.dispatchEvent(new CustomEvent('onGalleryContentChange', { detail: src}));\n\t}\n\t\n\t/**\n\t * page offset negative for prev, positive for next\n\t * @param offset\n\t */\n\tonChange(offset) {\n\t\tthis.onContentChange();\n\t\tthis.state.active = this.state.active + offset;\n\t\t/**\n\t\t * go round and round and round\n\t\t */\n\t\tif (this.state.active < 0) {\n\t\t\tthis.state.active = this._data.length - 1;\n\t\t} else if (this.state.active >= this._data.length) {\n\t\t\tthis.state.active = 0;\n\t\t}\n\t\tthis.update();\n\t}\n\t\n\tonResize() {\n\t\t\n\t\tif(typeof this._viewport == typeof undefined ) return;\n\t\tif(this.state.viewport_size != this._viewport.clientWidth){\n\t\t\tthis.updateViewportRatio();\n\t\t\tthis.state.viewport_size = this._viewport.clientWidth;\n\t\t}\n\t}\n\t\n\tonThumbClick(position) {\n\t\tthis.state.active = position;\n\t\tthis.update();\n\t\tthis._navigation.hide();\n\t}\n\t\n\t/**\n\t * toggle fullscreen mode\n\t */\n\tonFullScreenToggle(){\n\t\tthis.onFullScreen( !( this.get().className.indexOf(` ${this.props.classes.fullscreen}`) >= 0 ) );\n\t}\n\tonFullScreen(active){\n\t\t/**\n\t\t * remove full screen class\n\t\t */\n\t\tthis.get().className = this.get().className.replace(` ${this.props.classes.fullscreen}`,'');\n\t\t/**\n\t\t * add full screen class if active\n\t\t */\n\t\tif( active ){\n\t\t\tthis.get().className+= ` ${this.props.classes.fullscreen}`;\n\t\t}\n\t}\n\t\n\t/**\n\t * ---------------------------\n\t * other functions\n\t * ---------------------------\n\t */\n\t_iterate(callback) {\n\t\tif (this._data.length != this._page_components.length) {\n\t\t\tconsole.error(\"Model and Views have not equal length\");\n\t\t\treturn;\n\t\t}\n\t\tfor (let i = 0; i < this._data.length; i++) {\n\t\t\tif (callback(this._data[i], this._page_components[i], i)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/**\n\t * get the source of the gallery\n\t * @return {Element}\n\t */\n\tgetSource() {\n\t\treturn this._source_gallery;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/component/gallery.jsx","/**\n * this is how an component should work\n */\nexport default class Component {\n\t\n\t/**\n\t * construct\n\t */\n\tconstructor() {\n\t\t/**\n\t\t *\n\t\t * @type {Element}\n\t\t * @private\n\t\t */\n\t\tthis._element = document.createElement(\"div\");\n\t}\n\t\n\t/**\n\t * get dom element for the component\n\t * @return {Element}\n\t */\n\tget() {\n\t\treturn this._element;\n\t}\n\t\n\t/**\n\t * destroy this component and remove from dom\n\t */\n\tdestroy() {\n\t\tthis.get().parentNode.removeChild(this.get());\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/component/component.jsx","import PageImage from './page-image.jsx';\nimport PageCustom from './page-custom.jsx';\n\nexport {PageImage, PageCustom};\n\n\n// WEBPACK FOOTER //\n// ./src/component/page/page.jsx","import PageBase from './page-base.jsx';\n\nexport default class ItemImage extends PageBase {\n\t\n\t/**\n\t * ----------------------------\n\t * rendering\n\t * ----------------------------\n\t */\n\trender() {\n\t\t\n\t\tconst item = this.getData();\n\t\tthis._caption = null;\n\t\t\n\t\tlet img = new Image();\n\t\timg.className = \"the-gallery__page-img\";\n\t\timg.title = item.getCaption();\n\t\t\n\t\tthis.get().appendChild(img);\n\t\t\n\t\tif (item.getCaption() != \"\") {\n\t\t\tthis._caption = document.createElement(\"div\");\n\t\t\tthis._caption.className = \"the-gallery__page-caption\";\n\t\t\tthis._caption.innerHTML = item.getCaption();\n\t\t\tthis.get().appendChild(this._caption);\n\t\t}\n\t\t\n\t\t/**\n\t\t * now load image\n\t\t */\n\t\timg.onload = () => {\n\t\t\tlet height = img.height;\n\t\t\tif (this._caption != null) {\n\t\t\t\theight += this._caption.clientHeight;\n\t\t\t}\n\t\t\tconst ratio = parseInt(height) / parseInt(img.width);\n\t\t\tthis.getData().setRatio(ratio);\n\t\t\tthis.getData().setHeight(height);\n\t\t\tthis.trigger(this.EVENTS.PAGE_RATIO);\n\t\t};\n\t\timg.src = item.getSource();\n\t\t\n\t\tthis.update();\n\t\t\n\t\treturn this.get();\n\t}\n\t\n\t/**\n\t * ----------------------------\n\t * events\n\t * ----------------------------\n\t */\n\t\n\t\n\t/**\n\t * ---------------------------\n\t * other functions\n\t * ---------------------------\n\t */\n\t\n}\n\n\n// WEBPACK FOOTER //\n// ./src/component/page/page-image.jsx","import Component from '../component.jsx';\nimport TouchEvent from '../../controller/touch-events.jsx';\n\nexport default class PageBase extends Component {\n\t\n\t/**\n\t *\n\t * @param {ItemData} data\n\t * @param {GalleryEvent} event the event handler\n\t */\n\tconstructor(data, event) {\n\t\tsuper();\n\t\tthis._data = data;\n\t\tthis.state = {\n\t\t\tposition: 1,\n\t\t};\n\t\tthis._event = event;\n\t\t\n\t\tthis.EVENTS = this._event.EVENTS();\n\t\t\n\t\tthis._touch_events = new TouchEvent(this.get());\n\t\t\n\t\tthis._touch_events.setOnTouchListener(this.onSlide.bind(this));\n\t\tthis._touch_events.setOnTouchStartListener(this.onSlideStart.bind(this));\n\t\tthis._touch_events.setOnTouchStopListener(this.onSlideStop.bind(this));\n\t}\n\t\n\t/**\n\t * ----------------------------\n\t * rendering\n\t * ----------------------------\n\t */\n\tupdate() {\n\t\tthis.get().className = this.getClassName();\n\t}\n\t\n\trender() {\n\t\tconsole.error(\"Base has to be extended. Override render and return dom element.\");\n\t\treturn this.get();\n\t}\n\t\n\t/**\n\t * ----------------------------\n\t * events\n\t * ----------------------------\n\t */\n\tonSlideStart() {\n\t\tthis.get().className = this.getClassName() + \" js-handling\";\n\t}\n\t\n\tonSlide(offsetx, offsety) {\n\t\tlet multi = 1;\n\t\tif (offsetx < 0) {\n\t\t\tmulti *= -1;\n\t\t}\n\t\toffsetx = Math.log(offsetx * multi) * 2;\n\t\tif (offsetx > 29) {\n\t\t\toffsetx = 29;\n\t\t}\n\t\tthis.get().style.transform = \"translateX(\" + (offsetx * multi) + \"px)\";\n\t}\n\t\n\tonSlideStop(offsetx, offsety) {\n\t\tif (offsetx > 50) {\n\t\t\tthis._event.trigger(this.EVENTS.PREV, this.EVENTS.TYPE_SLIDE);\n\t\t} else if (offsetx < -50) {\n\t\t\tthis._event.trigger(this.EVENTS.NEXT, this.EVENTS.TYPE_SLIDE);\n\t\t}\n\t\tthis.get().style.transform = \"\";\n\t\tthis.get().className = this.getClassName();\n\t}\n\t\n\t/**\n\t * ---------------------------\n\t * other functions\n\t * ---------------------------\n\t */\n\ttrigger(event, custom) {\n\t\tthis._event.trigger(event, this.getData(), custom);\n\t}\n\t\n\tgetData() {\n\t\treturn this._data;\n\t}\n\t\n\tgetClassName() {\n\t\treturn \"the-gallery__page \" + this.getPositionClass();\n\t}\n\t\n\tsetPrev() {\n\t\tthis.state.position = -1;\n\t\tthis.update();\n\t\tthis.trigger(this.EVENTS.PAGE_INACTIVE);\n\t}\n\t\n\tsetNext() {\n\t\tthis.state.position = 1;\n\t\tthis.update();\n\t\tthis.trigger(this.EVENTS.PAGE_INACTIVE);\n\t}\n\t\n\tsetActive() {\n\t\tthis.state.position = 0;\n\t\tthis.update();\n\t\tthis.trigger(this.EVENTS.PAGE_ACTIVE);\n\t\t\n\t}\n\t\n\tgetPositionClass() {\n\t\tswitch (this.state.position) {\n\t\t\tcase -1:\n\t\t\t\treturn \"is-prev\";\n\t\t\tcase 1:\n\t\t\t\treturn \"is-next\";\n\t\t\tcase 0:\n\t\t\t\treturn \"is-active\";\n\t\t}\n\t}\n\t\n}\n\n\n// WEBPACK FOOTER //\n// ./src/component/page/page-base.jsx","export default class TouchEvent {\n\t/**\n\t *\n\t * @param {Node} element\n\t */\n\tconstructor(element) {\n\t\tthis._element = element;\n\t\telement.addEventListener(\"touchstart\", this.handleStart.bind(this), false);\n\t\telement.addEventListener(\"touchend\", this.handleEnd.bind(this), false);\n\t\telement.addEventListener(\"touchcancel\", this.handleCancel.bind(this), false);\n\t\telement.addEventListener(\"touchmove\", this.handleMove.bind(this), false);\n\t\t\n\t\t/**\n\t\t * reset to initial state\n\t\t */\n\t\tthis.state = {\n\t\t\tstart: {\n\t\t\t\tx: null,\n\t\t\t\ty: null,\n\t\t\t},\n\t\t\toffset: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t\tis_multitouch: false,\n\t\t};\n\t\tthis.reset();\n\t\t\n\t\t/**\n\t\t * event listeners\n\t\t * @private\n\t\t */\n\t\tthis._on_touch = function () {\n\t\t};\n\t\tthis._on_touch_start = function () {\n\t\t};\n\t\tthis._on_touch_stop = function () {\n\t\t};\n\t}\n\t\n\t/**\n\t *\n\t * @param {Event} e\n\t */\n\thandleStart(e) {\n\t\t// e.preventDefault();\n\t\tif(e.touches.length > 1){\n\t\t\tthis.state.is_multitouch = true;\n\t\t\treturn;\n\t\t}\n\t\tthis.reset();\n\t\tthis.state.start.x = e.changedTouches[0].pageX;\n\t\tthis.state.start.y = e.changedTouches[0].pageY;\n\t\t\n\t\tthis._on_touch_start();\n\t}\n\t\n\t/**\n\t *\n\t * @param {Event} e\n\t */\n\thandleMove(e) {\n\t\tif(this.state.is_multitouch){\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(\"handle move!\");\n\t\tconst x = e.changedTouches[0].pageX;\n\t\tconst y = e.changedTouches[0].pageY;\n\t\tthis.state.offset.x = x - this.state.start.x;\n\t\tthis.state.offset.y = y - this.state.start.y;\n\t\tthis.sendTouchEvent();\n\t}\n\t\n\t/**\n\t *\n\t * @param {Event} e\n\t */\n\thandleEnd(e) {\n\t\tif(e.touches.length > 0){\n\t\t\t/**\n\t\t\t * if there is a finger left prevent multi touch confusion\n\t\t\t */\n\t\t\treturn;\n\t\t}\n\t\tif(!this.state.is_multitouch){\n\t\t\tthis._on_touch_stop(this.state.offset.x, this.state.offset.y);\n\t\t}\n\t\tthis.state.is_multitouch = false;\n\t\tthis.reset();\n\t}\n\t\n\t/**\n\t *\n\t * @param {Event} e\n\t */\n\thandleCancel(e) {\n\t\tthis.reset();\n\t\tthis.sendTouchEvent();\n\t}\n\t\n\t/**\n\t * send touch position change\n\t */\n\tsendTouchEvent() {\n\t\tthis._on_touch(this.state.offset.x, this.state.offset.y);\n\t}\n\t\n\t/**\n\t *\n\t */\n\treset() {\n\t\tthis.state.start.x = null;\n\t\tthis.state.start.y = null;\n\t\tthis.state.offset.x = 0;\n\t\tthis.state.offset.y = 0;\n\t}\n\t\n\t/**\n\t *\n\t * @param {func} fn\n\t */\n\tsetOnTouchListener(fn) {\n\t\tthis._on_touch = fn;\n\t}\n\t\n\t/**\n\t *\n\t * @param {func} fn\n\t */\n\tsetOnTouchStartListener(fn) {\n\t\tthis._on_touch_start = fn;\n\t}\n\t\n\t/**\n\t *\n\t * @param {func} fn\n\t */\n\tsetOnTouchStopListener(fn) {\n\t\tthis._on_touch_stop = fn;\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/controller/touch-events.jsx","import PageBase from './page-base.jsx';\n\nexport default class PageCustom extends PageBase {\n\t\n\t/**\n\t * ----------------------------\n\t * rendering\n\t * ----------------------------\n\t */\n\trender() {\n\t\t\n\t\tconst item = this._data;\n\t\t\n\t\tconst render = item.getRenderFunction();\n\t\t\n\t\tthis.get().innerHTML = \"\";\n\t\t\n\t\tconst result = render(this.get());\n\t\t\n\t\tif (typeof result == typeof \"\") {\n\t\t\tif (this.get().innerHTML != \"\") {\n\t\t\t\tconsole.info(`It seems that you manipulated the galleries custom page dom \n\t\t\t\telement as well as you do not return null. \n\t\t\t\tYour changes will be overwritten...`);\n\t\t\t}\n\t\t\tthis.get().innerHTML = result;\n\t\t}\n\t\t\n\t\tthis.update();\n\t\t\n\t\treturn this.get();\n\t}\n\t\n\t/**\n\t * ----------------------------\n\t * events\n\t * ----------------------------\n\t */\n\t\n\t/**\n\t * ---------------------------\n\t * other functions\n\t * ---------------------------\n\t */\n\t\n\t\n}\n\n\n// WEBPACK FOOTER //\n// ./src/component/page/page-custom.jsx","import Component from './component.jsx';\n\nclass Thumb extends Component {\n\t/**\n\t *\n\t * @param {ItemData} data\n\t * @param {func} onclick\n\t */\n\tconstructor(data, onclick) {\n\t\tsuper();\n\t\tthis._data = data;\n\t\tthis.get().addEventListener(\"click\", onclick);\n\t}\n\t\n\trender() {\n\t\t\n\t\tconst item = this._data;\n\t\t\n\t\tif (!this._data.isThumbable()) {\n\t\t\tthis.get().className = \"the-gallery__thumb is-not-thumbable\";\n\t\t\tthis.get().style.display = \"none\";\n\t\t\treturn this.get();\n\t\t}\n\t\t\n\t\tthis.get().className = \"the-gallery__thumb\";\n\t\t\n\t\t\n\t\tif (item.getCaption() != \"\") {\n\t\t\tthis.get().setAttribute(\"title\", item.getCaption());\n\t\t}\n\t\t/**\n\t\t * now load image\n\t\t */\n\t\tif (item.getSource() != \"\") {\n\t\t\tthis.get().style.backgroundImage = \"url(\" + item.getSource() + \")\";\n\t\t}\n\t\treturn this.get();\n\t}\n\t\n\tupdateActive(active_data_item) {\n\t\tif (!this._data.isThumbable()) return;\n\t\tif (active_data_item == this._data) {\n\t\t\tthis.get().className = \"the-gallery__thumb is-active\";\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.get().className = \"the-gallery__thumb\";\n\t\t}\n\t\treturn false;\n\t}\n}\n\n/**\n * thumbs\n */\nexport default class Thumbs extends Component {\n\t/**\n\t *\n\t * @param {Array.ItemData} data array of\n\t * @param {GalleryEvent} events\n\t */\n\tconstructor(data, events) {\n\t\tsuper();\n\t\tthis._data = data;\n\t\tthis._thumbs = [];\n\t\tthis._events = events;\n\t\tthis._events.addListener(this._events.EVENTS().PAGE_ACTIVE, this.updateActive.bind(this));\n\t}\n\t\n\t/**\n\t * render thumbs\n\t * @return {Element}\n\t */\n\trender() {\n\t\tthis.get().className = \"the-gallery__thumbs\";\n\t\t\n\t\tif (typeof  this._stage == typeof undefined) {\n\t\t\tthis._stage = document.createElement(\"div\");\n\t\t\tthis._stage.className = \"the-gallery__thumbs--stage\";\n\t\t\tthis.get().appendChild(this._stage);\n\t\t}\n\t\t\n\t\t/**\n\t\t * remove all children\n\t\t */\n\t\twhile (this._stage.firstChild) {\n\t\t\tthis._stage.removeChild(this._stage.firstChild);\n\t\t}\n\t\t\n\t\tlet not_thumbed = 0;\n\t\tfor (let i = 0; i < this._data.length; i++) {\n\t\t\tthis._thumbs.push(new Thumb(this._data[i], this.onClick.bind(this, this._data[i], i)));\n\t\t\tthis._stage.appendChild(this._thumbs[i].render());\n\t\t\tif (this._data[i].isThumbable()) {\n\t\t\t\t// this._thumbs[i].get().style.left=((i-not_thumbed)*75)+\"px\";\n\t\t\t} else {\n\t\t\t\tnot_thumbed++;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn this.get();\n\t}\n\t\n\tmoveThumbs(active_index = 0) {\n\t\tlet width = this.get().clientWidth;\n\t\tlet item_width = this._stage.firstChild.clientWidth;\n\t\tlet thumb_position_left = item_width * active_index;\n\t\t\n\t\tlet left = 0;\n\t\tif (thumb_position_left > ( (width / 2) - item_width )) {\n\t\t\tleft = (item_width * active_index * -1) + (width / 2);\n\t\t}\n\t\t\n\t\tif(left > 0) left = 0;\n\t\t\n\t\tthis._stage.style.left = left + \"px\";\n\t\t\n\t}\n\t\n\t/**\n\t *  on page change\n\t * @param {ItemData} item_data\n\t */\n\tupdateActive(item_data) {\n\t\tlet i = 0;\n\t\tlet active_index = 0;\n\t\tfor (let thumb of this._thumbs) {\n\t\t\tif (thumb.updateActive(item_data)) active_index = i;\n\t\t\ti++;\n\t\t}\n\t\tthis.moveThumbs(active_index);\n\t}\n\t\n\t/**\n\t * expose thumb click to world\n\t * @param {ItemData} data\n\t * @param {int} position\n\t */\n\tonClick(data, position) {\n\t\tthis._events.trigger(this._events.EVENTS().THUMB_CLICK, position, data);\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/thumbs.jsx","import Component from './component.jsx';\n\n/**\n * thumbs\n */\nexport default class FullScreen extends Component {\n\t/**\n\t *\n\t * @param {Array.ItemData} data array of\n\t * @param {GalleryEvent} events\n\t * @param {object} options\n\t */\n\tconstructor(data, events, options) {\n\t\tsuper();\n\t\t\n\t\tthis.props = {\n\t\t\tclassName: \"the-gallery__fullscreen\",\n\t\t\tinnerHTML: \"Fullscreen\",\n\t\t};\n\t\tObject.assign(this.props, options);\n\t\t\n\t\tthis._data = data;\n\t\tthis._events = events;\n\t\tthis.ON = this._events.EVENTS().FULLSCREEN_ON;\n\t\tthis.OFF = this._events.EVENTS().FULLSCREEN_OFF;\n\t\tthis.TOGGLE = this._events.EVENTS().FULLSCREEN_TOGGLE;\n\t\tthis.get().addEventListener(\"click\", this.emit_event.bind(this));\n\t}\n\t\n\t/**\n\t * render button\n\t * @return {Element}\n\t */\n\trender() {\n\t\tthis.get().className = this.props.className;\n\t\tthis.get().innerHTML = this.props.innerHTML;\n\t\treturn this.get();\n\t}\n\t\n\t/**\n\t * emit the clicked fullscreen event\n\t * @param e\n\t */\n\temit_event(e){\n\t\tthis._events.trigger(this.TOGGLE);\n\t}\n\t\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/full-screen.jsx","\nimport Component from './component.jsx';\n\n\nexport default class Share extends Component{\n\t/**\n\t *\n\t * @param {GalleryEvent} events\n\t * @param {object} options\n\t */\n\tconstructor(events, options) {\n\t\tsuper();\n\t\t\n\t\t/**\n\t\t * default options\n\t\t */\n\t\tthis.props = {};\n\t\t\n\t\t/**\n\t\t * deep copy sub options\n\t\t */\n\t\tconst facebook = Object.assign({}, options.facebook);\n\t\tconst twitter = Object.assign({}, options.twitter);\n\t\t\n\t\t/**\n\t\t * extend options\n\t\t */\n\t\tObject.assign(this.props, {\n\t\t\tclassName: \t\"the-gallery__share\",\n\t\t\tclassNameButton: \"the-gallery__share--button\",\n\t\t\tfacebook: {},\n\t\t\ttwitter: {},\n\t\t}, options );\n\t\tObject.assign(this.props.facebook, {\n\t\t\tshow: true,\n\t\t\tinnerHTML: \" - Facebook - \",\n\t\t\tclassName: \"the-gallery__share--facebook\",\n\t\t}, facebook);\n\t\tObject.assign(this.props.twitter,{\n\t\t\tshow: true,\n\t\t\tinnerHTML: \" - Twitter - \",\n\t\t\tclassName: \"the-gallery__share--twitter\",\n\t\t}, twitter);\n\t\t\n\t\t/**\n\t\t * the state\n\t\t */\n\t\tthis.state = {\n\t\t\timage: \"\",\n\t\t};\n\t\t\n\t\tconsole.log(this.props);\n\t\t\n\t\tthis._events = events;\n\t\t\n\t\tdocument.body.addEventListener(\"onGalleryContentChange\", this.onContentChange.bind(this));\n\t\t\n\t}\n\trender(){\n\t\tconst _element = this.get();\n\t\t_element.className = this.props.className;\n\t\t\n\t\tif(this.props.facebook.show){\n\t\t\tconst _fb = this.renderElement(\"facebook\");\n\t\t\t_element.appendChild(_fb);\n\t\t\t_fb.addEventListener(\"click\",this.onShareFacebook.bind(this));\n\t\t}\n\t\t\n\t\tif(this.props.twitter.show){\n\t\t\tconst _t = this.renderElement(\"twitter\");\n\t\t\t_element.appendChild(_t);\n\t\t\t_t.addEventListener('click', this.onShareTwitter.bind(this));\n\t\t}\n\t\t\n\t\treturn _element;\n\t}\n\t\n\tonContentChange(e){\n\t\tthis.state.image = e.detail;\n\t}\n\t\n\trenderElement(key){\n\t\tconst config = this.props[key];\n\t\tconst _button = document.createElement(\"div\");\n\t\t_button.className = this.props.classNameButton+\" \"+config.className;\n\t\t_button.innerHTML = config.innerHTML;\n\t\treturn _button;\n\t}\n\t\n\tonShareFacebook(){\n\t\t// TODO: how to share what?\n\t\twindow.open('http://www.facebook.com/sharer.php?u='+encodeURIComponent(window.location.href),\n\t\t\t'sharer',\n\t\t\t'toolbar=0,status=0,width=626,height=436'\n\t\t);\n\t}\n\tonShareTwitter(){\n\t\twindow.open('https://twitter.com/share?url='+encodeURIComponent(window.location.href),\n\t\t\t'sharer',\n\t\t\t'toolbar=0,status=0,width=626,height=436'\n\t\t);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/component/share.jsx","import Component from './component.jsx';\n\nexport default class Navigation extends Component {\n\t\n\t/**\n\t * construct\n\t */\n\tconstructor(options) {\n\t\tsuper();\n\t\t\n\t\tthis.props = {\n\t\t\tnext: {\n\t\t\t\tinnerHTML: \"next ->\",\n\t\t\t\telement: \"div\",\n\t\t\t\tclassName: \"the-gallery__navigation--button the-gallery__navigation--next\",\n\t\t\t},\n\t\t\tprev: {\n\t\t\t\tinnerHTML: \"<- prev\",\n\t\t\t\telement: \"div\",\n\t\t\t\tclassName: \"the-gallery__navigation--button the-gallery__navigation--prev\",\n\t\t\t}\n\t\t};\n\t\t\n\t\tObject.assign(this.props.next, options.next);\n\t\tObject.assign(this.props.prev, options.prev);\n\t\t\n\t\tthis._on_next = () => {\n\t\t\tconsole.log(\"Not implemented\");\n\t\t}\n\t\tthis._on_prev = () => {\n\t\t\tconsole.log(\"Not implemented\");\n\t\t}\n\t}\n\t\n\t/**\n\t *\n\t * @return {Element} rendered element\n\t */\n\trender() {\n\t\tthis.setClass();\n\t\tlet _navigation = this.get();\n\t\t\n\t\t\n\t\twhile (_navigation.firstChild) {\n\t\t\t_navigation.removeChild(this._navigation.firstChild);\n\t\t}\n\t\t\n\t\tconst prev = this.get_button(this.props.prev);\n\t\tconst next = this.get_button(this.props.next);\n\t\t\n\t\t_navigation.appendChild(prev);\n\t\t_navigation.appendChild(next);\n\t\t\n\t\tnext.addEventListener(\"click\", this.onChange.bind(this, 1));\n\t\tprev.addEventListener(\"click\", this.onChange.bind(this, -1));\n\t\t\n\t\treturn this.get();\n\t}\n\t\n\tget_button(config) {\n\t\t/**\n\t\t * else build by parts\n\t\t * @type {Element}\n\t\t */\n\t\tconst element = document.createElement(config.element);\n\t\telement.className = config.className;\n\t\telement.innerHTML = config.innerHTML;\n\t\treturn element;\n\t}\n\t\n\tsetClass(classnames = \"\") {\n\t\tthis.get().className = \"the-gallery__navigation \" + classnames;\n\t}\n\t\n\ttoggleDisplay() {\n\t\tconsole.log(this.get().className.indexOf(\"is-hidden\"));\n\t\tif (this.get().className.indexOf(\"is-hidden\") >= 0) {\n\t\t\tthis.show();\n\t\t} else {\n\t\t\tthis.hide();\n\t\t}\n\t}\n\t\n\thide() {\n\t\tthis.setClass(\"is-hidden\");\n\t}\n\t\n\tshow() {\n\t\tthis.setClass();\n\t}\n\t\n\t/**\n\t * triggered on change\n\t * @param offset\n\t */\n\tonChange(offset) {\n\t\tif (offset < 0) {\n\t\t\tthis._on_prev(Math.abs(offset));\n\t\t} else {\n\t\t\tthis._on_next(Math.abs(offset));\n\t\t}\n\t}\n\t\n\t/**\n\t * set on prev callback\n\t * @param callback\n\t */\n\tsetOnPrev(callback) {\n\t\tthis._on_prev = callback;\n\t}\n\t\n\t/**\n\t * set on next callback\n\t * @param callback\n\t */\n\tsetOnNext(callback) {\n\t\tthis._on_next = callback;\n\t}\n\t\n\t/**\n\t * sets and overwrites on next and on prev callback\n\t * @param callback\n\t */\n\tsetOnChange(callback) {\n\t\tthis.setOnNext((offset) => {\n\t\t\tcallback(offset)\n\t\t});\n\t\tthis.setOnPrev((offset) => {\n\t\t\tcallback(offset * -1);\n\t\t});\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/component/navigation.jsx","/**\n * collect data from gallery item\n */\nexport default class ItemData {\n\t/**\n\t *\n\t * @param {Element} source\n\t */\n\tconstructor(source) {\n\t\tthis._source = source;\n\t\tthis._default_return = \"\";\n\t\tthis._ratio = 1;\n\t\tthis._height = 0;\n\t\tthis._is_thumbable = true;\n\t\tthis._render_function = () => {\n\t\t};\n\t}\n\t\n\tgetSource() {\n\t\tif (this._source == null) return this._default_return;\n\t\treturn this._source.querySelector(\"img\").src;\n\t}\n\t\n\tgetSourceSet() {\n\t\tif (this._source == null) return this._default_return;\n\t\treturn this._source.querySelector(\"img\").getAttribute(\"srcset\");\n\t}\n\t\n\tgetCaption() {\n\t\tif (this._source == null) return this._default_return;\n\t\tlet caption_element = this._source.querySelector(\".wp-caption-text\");\n\t\treturn (caption_element) ? caption_element.innerHTML : \"\";\n\t}\n\t\n\tgetAnker() {\n\t\tif (this._source == null) return this._default_return;\n\t\tlet found = this.getLink().match(/^http:\\/\\/[^\\/]+(.*)$/i);\n\t\treturn found[1];\n\t}\n\t\n\tgetLink() {\n\t\tif (this._source == null) return this._default_return;\n\t\tif(this._source.querySelector(\"a\")){\n\t\t\treturn this._source.querySelector(\"a\").getAttribute(\"href\");\n\t\t}\n\t\treturn this.getSource();\n\t}\n\t\n\tsetRatio(ratio) {\n\t\tthis._ratio = ratio;\n\t}\n\t\n\tgetRatio() {\n\t\treturn this._ratio;\n\t}\n\t\n\tsetHeight(height) {\n\t\tthis._height = height;\n\t}\n\t\n\tgetHeight() {\n\t\treturn this._height;\n\t}\n\t\n\tsetIsThumbable(thumbable) {\n\t\tthis._is_thumbable = thumbable;\n\t}\n\t\n\tisThumbable() {\n\t\treturn this._is_thumbable;\n\t}\n\t\n\tsetRenderFunction(fn) {\n\t\tthis._render_function = fn;\n\t}\n\t\n\tgetRenderFunction() {\n\t\treturn this._render_function;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/item-data.jsx","const EVENTS = {\n\tTHUMB_CLICK: 'thumb_click',\n\tPAGE_RATIO: \"page_ratio\",\n\tPAGE_ACTIVE: \"page_active\",\n\tPAGE_INACTIVE: \"page_inactive\",\n\tPAGE_CLICK: \"page_click\",\n\tNEXT: \"next\",\n\tPREV: \"prev\",\n\tTYPE_SLIDE: \"slide\",\n\tTYPE_NAVIGATION_CLICK: \"navigation_click\",\n\tTYPE_THUMBNAIL_CLICK: \"thumbnail_click\",\n\tFULLSCREEN_ON: \"fullscreen_on\",\n\tFULLSCREEN_OFF: \"fullscreen_off\",\n\tFULLSCREEN_TOGGLE: \"fullscreen_toggle\",\n};\n\n/**\n * static event handler\n */\nexport default class GalleryEvent {\n\t\n\tconstructor() {\n\t\t/**\n\t\t * registered listeners\n\t\t * @type {Array.func}\n\t\t * @private\n\t\t */\n\t\tthis._listeners = {};\n\t}\n\t\n\t/**\n\t * All event identifiers\n\t * @return {object}\n\t */\n\tEVENTS() {\n\t\treturn EVENTS;\n\t}\n\t\n\t/**\n\t *\n\t * @param event\n\t * @return {Array}\n\t * @private\n\t */\n\t_getListeners(event) {\n\t\tif (typeof this._listeners[event] == typeof undefined) {\n\t\t\tthis._listeners[event] = [];\n\t\t}\n\t\treturn this._listeners[event];\n\t}\n\t\n\t/**\n\t * add listener callback\n\t * @param event\n\t * @param callback\n\t */\n\taddListener(event, callback) {\n\t\tthis._getListeners(event).push(callback);\n\t}\n\t\n\t/**\n\t * trigger an event\n\t * @param event\n\t * @param data\n\t */\n\ttrigger(event, data) {\n\t\tlet listeners = this._getListeners(event);\n\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\tlisteners[i](data);\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/controller/gallery-event.jsx"],"sourceRoot":""}